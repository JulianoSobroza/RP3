<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <title>Criar Produto</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .hint {
            font-size: 0.875rem;
            color: #6c757d;
        }

        .section-title {
            background-color: #f8f9fa;
            padding: 10px;
            border-left: 4px solid #198754;
            margin-bottom: 20px;
        }

        .form-step {
            display: none;
        }

        .form-step.active {
            display: block;
        }
    </style>
</head>

<body class="bg-white">

    <div class="container mt-5 mb-5">
        <h3 class="mb-4">1. Criar Produto</h3>
        <form method="POST" action="/produtos" id="produto-form">
            <!-- Passo 1: Identifica√ß√£o -->
            <div class="form-step active" id="step-1">
                <div class="section-title"><strong>Identifica√ß√£o do Produto</strong></div>
                <div class="row mb-3">
                    <div class="col-md-6">
                        <label class="form-label">Nome do Produto</label>
                        <input type="text" name="nome" class="form-control" placeholder="Ex: Backlog AI Generator"
                            required>
                        <div class="hint">Nome curto e memor√°vel. Algo que resuma a proposta do produto.</div>
                    </div>
                    <div class="col-md-6">
                        <label class="form-label">Canais / Plataformas</label>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" name="canais" value="Web" id="canalWeb">
                            <label class="form-check-label" for="canalWeb">Web</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" name="canais" value="Mobile" id="canalMobile">
                            <label class="form-check-label" for="canalMobile">Mobile</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" name="canais" value="API" id="canalAPI">
                            <label class="form-check-label" for="canalAPI">API</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" name="canais" value="Outros" id="canalOutros">
                            <label class="form-check-label" for="canalOutros">Outros</label>
                        </div>
                        <div class="hint">Onde o produto estar√° dispon√≠vel ou acess√≠vel.</div>
                    </div>
                </div>
                <div class="d-flex justify-content-end">
                    <button type="button" class="btn btn-primary" id="next-1">Pr√≥ximo</button>
                </div>
            </div>
            <!-- Passo 2: Descri√ß√£o Guiada -->
            <div class="form-step" id="step-2">
                <div class="section-title"><strong>Descri√ß√£o Guiada do Produto</strong></div>
                <div class="mb-3">
                    <label class="form-label">Miss√£o / Objetivo Central</label>
                    <textarea name="descricao_objetivo" class="form-control" rows="2"
                        placeholder="Ex: Ajudar Product Owners a gerar √©picos e hist√≥rias com intelig√™ncia artificial."></textarea>
                </div>
                <div class="mb-3">
                    <label class="form-label">Funcionalidades-Chave <span class="text-muted">(opcional)</span></label>
                    <textarea name="descricao_funcionalidades" class="form-control" rows="2"
                        placeholder="Ex: Cadastro de produto, gera√ß√£o de backlog com LLM, edi√ß√£o de hist√≥rias."></textarea>
                </div>
                <div class="mb-3">
                    <label class="form-label">Tecnologia / Diferenciais <span class="text-muted">(opcional)</span></label>
                    <textarea name="descricao_tecnologia" class="form-control" rows="2"
                        placeholder="Ex: Utiliza LLMs como GPT para gerar backlog automaticamente. Interface web interativa."></textarea>
                </div>
                <div class="mb-3">
                    <a href="/assistente-descricao" class="btn btn-outline-primary btn-sm">üîÆ Gerar Descri√ß√£o com IA</a>
                    <div class="hint mt-1">Clique para gerar uma descri√ß√£o automatizada com base nas informa√ß√µes
                        preenchidas.</div>
                </div>
                <div class="d-flex justify-content-between">
                    <button type="button" class="btn btn-secondary" id="back-2">Voltar</button>
                    <button type="button" class="btn btn-primary" id="next-2">Pr√≥ximo</button>
                </div>
            </div>
            <!-- Passo 3: Personas -->
            <div class="form-step" id="step-3">
                <div class="section-title"><strong>Personas Envolvidas</strong></div>
                <div class="mb-3" id="personas-container">
                    <div class="input-group mb-2">
                        <input type="text" name="personas[]" class="form-control"
                            placeholder="Ex: Product Owner, Desenvolvedor Front-End, Stakeholder">
                        <button class="btn btn-outline-secondary" type="button" id="add-persona">+</button>
                    </div>
                    <div class="hint">Quem s√£o os usu√°rios ou interessados no produto? Pode incluir perfis t√©cnicos ou de
                        neg√≥cio.</div>
                </div>
                <div class="d-flex justify-content-between">
                    <button type="button" class="btn btn-secondary" id="back-3">Voltar</button>
                    <button type="button" class="btn btn-primary" id="next-3">Pr√≥ximo</button>
                </div>
            </div>
            <!-- Passo 4: Proposta de Valor -->
            <div class="form-step" id="step-4">
                <div class="section-title"><strong>Proposta de Valor</strong></div>
                <div class="mb-3">
                    <textarea name="proposta_valor" class="form-control" rows="2"
                        placeholder="Ex: Reduz o tempo de planejamento e documenta√ß√£o inicial com gera√ß√£o autom√°tica e inteligente de backlog."></textarea>
                    <div class="hint">Qual problema real o produto resolve? Qual ganho oferece para as personas?</div>
                </div>
                <div class="d-flex justify-content-between">
                    <button type="button" class="btn btn-secondary" id="back-4">Voltar</button>
                    <button type="submit" class="btn btn-success">Salvar Produto</button>
                </div>
            </div>
        </form>
        <a href="/dashboard" class="btn btn-link mt-3">‚Üê Voltar √† Dashboard</a>
    </div>

    <script>
        // Passos do formul√°rio
        const steps = [
            document.getElementById('step-1'),
            document.getElementById('step-2'),
            document.getElementById('step-3'),
            document.getElementById('step-4')
        ];
        let currentStep = 0;

        function showStep(idx) {
            steps.forEach((step, i) => {
                step.classList.toggle('active', i === idx);
            });
            currentStep = idx;
        }

        document.getElementById('next-1').onclick = () => showStep(1);
        document.getElementById('back-2').onclick = () => showStep(0);
        document.getElementById('next-2').onclick = () => showStep(2);
        document.getElementById('back-3').onclick = () => showStep(1);
        document.getElementById('next-3').onclick = () => showStep(3);
        document.getElementById('back-4').onclick = () => showStep(2);

        // Personas din√¢micas
        document.getElementById('add-persona').addEventListener('click', function () {
            const container = document.getElementById('personas-container');
            const inputGroup = document.createElement('div');
            inputGroup.className = 'input-group mb-2';
            inputGroup.innerHTML = `<input type="text" name="personas[]" class="form-control" placeholder="Ex: Product Owner, Desenvolvedor Front-End, Stakeholder">`;
            container.insertBefore(inputGroup, container.querySelector('.hint'));
        });

        // Inicializa mostrando o primeiro passo
        showStep(0);
    </script>
</body>

</html>
